{"ast":null,"code":"import React,{useState}from'react';import{Form,Input,Button,Card,Typography,message,Row,Col}from'antd';import{UserOutlined,LockOutlined}from'@ant-design/icons';import axios from'axios';import Cookies from'js-cookie';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const Login=_ref=>{let{setUserInfo}=_ref;const[loading,setLoading]=useState(false);const navigate=useNavigate();const onFinish=async values=>{setLoading(true);try{const response=await axios.post('/api/auth/login',{username:values.username,password:values.password});const{token,user}=response.data;Cookies.set('token',token,{expires:7});setUserInfo(user);message.success('登录成功！');navigate('/dashboard');}catch(error){var _error$response,_error$response$data;message.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'登录失败，请检查用户名和密码');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',display:'flex',justifyContent:'center',alignItems:'center',padding:'20px'},children:/*#__PURE__*/_jsx(Row,{justify:\"center\",style:{width:'100%'},children:/*#__PURE__*/_jsx(Col,{xs:22,sm:16,md:12,lg:8,xl:6,children:/*#__PURE__*/_jsxs(Card,{style:{boxShadow:'0 10px 30px rgba(0,0,0,0.3)',borderRadius:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(Title,{level:2,style:{color:'#667eea',marginBottom:'8px'},children:\"\\u591A\\u5730\\u533A\\u76D1\\u63A7\\u5E73\\u53F0\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u767B\\u5F55\\u51ED\\u636E\"})]}),/*#__PURE__*/_jsxs(Form,{name:\"login\",onFinish:onFinish,autoComplete:\"off\",size:\"large\",children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:'请输入用户名!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"\\u7528\\u6237\\u540D\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'请输入密码!'}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"\\u5BC6\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loading,style:{width:'100%',height:'45px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',border:'none'},children:\"\\u767B\\u5F55\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'20px'},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'12px'},children:\"\\u9ED8\\u8BA4\\u8D26\\u53F7: admin / admin123\"})})]})})})});};export default Login;","map":{"version":3,"names":["React","useState","Form","Input","Button","Card","Typography","message","Row","Col","UserOutlined","LockOutlined","axios","Cookies","useNavigate","jsx","_jsx","jsxs","_jsxs","Title","Text","Login","_ref","setUserInfo","loading","setLoading","navigate","onFinish","values","response","post","username","password","token","user","data","set","expires","success","error","_error$response","_error$response$data","style","minHeight","background","display","justifyContent","alignItems","padding","children","justify","width","xs","sm","md","lg","xl","boxShadow","borderRadius","textAlign","marginBottom","level","color","type","name","autoComplete","size","Item","rules","required","prefix","placeholder","Password","htmlType","height","border","marginTop","fontSize"],"sources":["/Users/huborychen/Documents/my-workspace/aick-mmp/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Input, Button, Card, Typography, message, Row, Col } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { useNavigate } from 'react-router-dom';\n\nconst { Title, Text } = Typography;\n\nconst Login = ({ setUserInfo }) => {\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const onFinish = async (values) => {\n    setLoading(true);\n    try {\n      const response = await axios.post('/api/auth/login', {\n        username: values.username,\n        password: values.password\n      });\n      \n      const { token, user } = response.data;\n      Cookies.set('token', token, { expires: 7 });\n      setUserInfo(user);\n      message.success('登录成功！');\n      navigate('/dashboard');\n    } catch (error) {\n      message.error(error.response?.data?.message || '登录失败，请检查用户名和密码');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: '20px'\n    }}>\n      <Row justify=\"center\" style={{ width: '100%' }}>\n        <Col xs={22} sm={16} md={12} lg={8} xl={6}>\n          <Card\n            style={{\n              boxShadow: '0 10px 30px rgba(0,0,0,0.3)',\n              borderRadius: '10px'\n            }}\n          >\n            <div style={{ textAlign: 'center', marginBottom: '30px' }}>\n              <Title level={2} style={{ color: '#667eea', marginBottom: '8px' }}>\n                多地区监控平台\n              </Title>\n              <Text type=\"secondary\">请输入您的登录凭据</Text>\n            </div>\n            \n            <Form\n              name=\"login\"\n              onFinish={onFinish}\n              autoComplete=\"off\"\n              size=\"large\"\n            >\n              <Form.Item\n                name=\"username\"\n                rules={[{ required: true, message: '请输入用户名!' }]}\n              >\n                <Input\n                  prefix={<UserOutlined />}\n                  placeholder=\"用户名\"\n                />\n              </Form.Item>\n\n              <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: '请输入密码!' }]}\n              >\n                <Input.Password\n                  prefix={<LockOutlined />}\n                  placeholder=\"密码\"\n                />\n              </Form.Item>\n\n              <Form.Item>\n                <Button\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                  loading={loading}\n                  style={{\n                    width: '100%',\n                    height: '45px',\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    border: 'none'\n                  }}\n                >\n                  登录\n                </Button>\n              </Form.Item>\n            </Form>\n            \n            <div style={{ textAlign: 'center', marginTop: '20px' }}>\n              <Text type=\"secondary\" style={{ fontSize: '12px' }}>\n                默认账号: admin / admin123\n              </Text>\n            </div>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}